<html>
  <head>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
  </head>
  <body>
    <canvas width="500" height="500" style="border:solid 1px #000;" id="pacmanGrid"></canvas>
    <script>
    window.requestAnimationFrame = (function () {
      return window.requestAnimationFrame ||
            window.webkitRequestAnimationFrame ||
            window.mozRequestAnimationFrame ||
            window.oRequestAnimationFrame ||
            window.msRequestAnimationFrame ||
            function (callback) {
              window.setTimeout(callback, 1000 / 60);
            };
    })();

    var canvas, c;
    window.addEventListener('load', function () {
      canvas = document.getElementById('pacmanGrid');
      c = canvas.getContext('2d');
      canvas.addEventListener('click', function () {
          window.requestAnimationFrame(drawLoop);
        }, false
      );
    }, false);

    function drawLoop() {
      c.clearRect(0, 0, canvas.width, canvas.height);
      pacman.draw();
      window.requestAnimationFrame(drawLoop);
    }
    var pacman = {
      x: 100,
      y: 100,
      mouthOpenValue: 40,
      mouthPosition: -1,
      direction: 1,

      draw: function () {
        if (this.mouthOpenValue <= 0) {
            this.mouthPosition = 1;
          }
        else if (this.mouthOpenValue >= 40){
          this.mouthPosition = -1;
        }

        if(this.x >= canvas.width - 10) // the radius
          this.direction = -1;
        else if (this.x <= 10) //the radius
          this.direction = 1;
        this.x += (2 * this.direction);
        this.mouthOpenValue += (5 * this.mouthPosition);
        c.beginPath();
        if (this.direction === 1) {
          c.arc(this.x, 100, 20, 
            (Math.PI / 180) * this.mouthOpenValue, 
            (Math.PI / 180) * (360 - this.mouthOpenValue));
        }
        else {
          c.arc(this.x, 100, 20,
            (Math.PI / 180) * (179 - this.mouthOpenValue), //to stop flicker dont draw 180 to 180
            (Math.PI / 180) * (180 + this.mouthOpenValue), true); 
        }

        c.lineTo(this.x, 100);
        c.fillStyle = '#000';
        c.fill();
      }
    };

    </script>
  </body>
</html>
